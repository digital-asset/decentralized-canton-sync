.. _module-splice-wallet-topupstate-18603:

Splice.Wallet.TopUpState
========================

Templates
---------

.. _type-splice-wallet-topupstate-validatortopupstate-56541:

**template** `ValidatorTopUpState <type-splice-wallet-topupstate-validatortopupstate-56541_>`_

  The state of a given top\-up loop\.

  Records the last time when this validator purchased traffic for this sequencer member in order to\:

  1. allow for crash fault tolerant deduplication of traffic purchases
  2. allow enforcing a rate limit to prevent the validator from spending too much on traffic purchases\.

  Signatory\: validator

  .. list-table::
     :widths: 15 10 30
     :header-rows: 1

     * - Field
       - Type
       - Description
     * - dso
       - `Party <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-party-57932>`_
       -
     * - validator
       - `Party <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-party-57932>`_
       - The validator operator purchasing traffic for the given sequencer member
     * - memberId
       - `Text <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-text-51952>`_
       - The id of the sequencer member (participant or mediator) for which traffic has been purchased
     * - synchronizerId
       - `Text <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-text-51952>`_
       - The id of the synchronizer for which this contract tracks purchased extra traffic
     * - migrationId
       - `Int <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-int-37261>`_
       - The migration id of the synchronizer for which this contract tracks purchased extra traffic
     * - lastPurchasedAt
       - `Time <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-time-63886>`_
       - Time when the traffic was last purchased by the validator for the given sequencer member

  + **Choice** Archive

    Controller\: validator

    Returns\: ()

    (no fields)

Functions
---------

.. _function-splice-wallet-topupstate-initialvalidatortopupstate-90212:

`initialValidatorTopUpState <function-splice-wallet-topupstate-initialvalidatortopupstate-90212_>`_
  \: `Party <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-party-57932>`_ \-\> `Party <https://docs.daml.com/daml/stdlib/Prelude.html#type-da-internal-lf-party-57932>`_ \-\> `Text <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-text-51952>`_ \-\> `Text <https://docs.daml.com/daml/stdlib/Prelude.html#type-ghc-types-text-51952>`_ \-\> `ValidatorTopUpState <type-splice-wallet-topupstate-validatortopupstate-56541_>`_
